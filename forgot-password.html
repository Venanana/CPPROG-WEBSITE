<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="forgot-password.css">
</head>

<body>
    <div class="page">
        <header class="top-banner">
            <div class="brand">
                <img src="barangay-logo.jpg" alt="Barangay logo">
                <div>
                    <h1>BARANGAY REQUEST SYSTEM</h1>
                    <p>Password Recovery</p>
                </div>
            </div>
            <a class="back-link" href="index.html"><i class="fa-solid fa-arrow-left"></i>Back to Sign In</a>
        </header>

        <main class="card">
            <h2>Forgot Password</h2>
            <p class="intro">Enter your email, get a verification code, then set your new password.</p>

            <form id="recoveryForm" novalidate>
                <label for="emailInput">Email Address</label>
                <div class="input-wrap">
                    <i class="fa-regular fa-envelope"></i>
                    <input id="emailInput" type="email" placeholder="you@example.com" required>
                </div>

                <button id="sendCodeBtn" type="button" class="btn-primary">Send Code</button>

                <div id="verifySection" class="hidden">
                    <label for="codeInput">Verification Code</label>
                    <div class="input-wrap">
                        <i class="fa-solid fa-key"></i>
                        <input id="codeInput" type="text" inputmode="numeric" maxlength="6" placeholder="6-digit code" required>
                    </div>

                    <label for="newPasswordInput">New Password</label>
                    <div class="input-wrap">
                        <i class="fa-solid fa-lock"></i>
                        <input id="newPasswordInput" type="password" minlength="8" placeholder="At least 8 characters" required>
                    </div>

                    <label for="confirmPasswordInput">Confirm New Password</label>
                    <div class="input-wrap">
                        <i class="fa-solid fa-lock"></i>
                        <input id="confirmPasswordInput" type="password" minlength="8" placeholder="Re-enter new password" required>
                    </div>

                    <button type="submit" class="btn-primary">Update Password</button>
                </div>
            </form>

            <p id="statusMessage" class="status"></p>
            <p id="demoCodeRow" class="demo-row hidden">Demo code: <strong id="demoCodeText"></strong></p>
        </main>
    </div>

    <div id="successModal" class="modal-overlay">
        <div class="modal-box">
            <h3>Password Updated</h3>
            <p>Your password has been updated successfully.</p>
            <button id="backToLoginBtn" class="btn-primary" type="button">Back to Sign In</button>
        </div>
    </div>

        <script src="api-client.js"></script>
        <script src="forgot-password.js"></script>
</body>

</html>



