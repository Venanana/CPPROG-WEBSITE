<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barangay Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="landingpage.css">
</head>

<body>
    <header class="header">
        <div class="left-header">
            <img class="barangay-logo" src="barangay-logo.jpg" alt="Barangay logo">
            <h2 id="systemTitle">Barangay Request Service System</h2>
        </div>

        <div class="right-header">
            <div class="header-circle-group">
                <div class="notification-wrap">
                    <button id="notificationBtn" class="notification-btn"><i class="fa-regular fa-bell"></i><span id="notifCount" class="notif-count">0</span></button>
                    <div id="notificationPanel" class="notification-panel">
                        <h4>Updates</h4>
                        <ul id="notificationList"></ul>
                    </div>
                </div>
                <span class="header-circle-label">Notification</span>
            </div>

            <div class="header-circle-group">
                <div class="profile-card">
                    <img id="userAvatar" src="" alt="Resident user profile">
                    <i id="userAvatarFallback" class="fa-regular fa-user profile-fallback-icon" aria-hidden="true"></i>
                </div>
                <span class="header-circle-label">User</span>
            </div>
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <ul>
                <li id="navNewRequest" class="active"><i class="fa-solid fa-file-circle-plus"></i><span>New Request</span></li>
                <li id="navSettings"><i class="fa-solid fa-gear"></i><span>Settings</span></li>
                <li id="navAboutUs"><i class="fa-solid fa-circle-info"></i><span>About Us</span></li>
                <li id="navLogout"><i class="fa-solid fa-right-from-bracket"></i><span>Logout</span></li>
            </ul>
        </aside>

        <main class="main">
            <section class="dashboard-hero">
                <div>
                    <h1><i class="fa-solid fa-gauge-high"></i>Dashboard</h1>
                    <p>Track and manage your barangay requests in one place.</p>
                </div>
            </section>

            <div class="cards">
                <div id="allCard" class="card clickable-card">
                    <div class="card-icon"><i class="fa-regular fa-folder-open"></i></div>
                    <h2 id="allCount">0</h2>
                    <p>Total Requests</p>
                </div>
                <div id="pendingCard" class="card pending clickable-card">
                    <div class="card-icon"><i class="fa-regular fa-hourglass-half"></i></div>
                    <h2 id="pendingCount">0</h2>
                    <p>Pending</p>
                </div>
                <div id="approvedCard" class="card approved clickable-card">
                    <div class="card-icon"><i class="fa-regular fa-circle-check"></i></div>
                    <h2 id="approvedCount">0</h2>
                    <p>Approved</p>
                </div>
            </div>

            <section class="dashboard-grid">
                <div class="table-section">
                    <h2 id="requestTableTitle"><i class="fa-solid fa-table-list"></i><span id="requestTableLabel">My Requests</span></h2>

                    <div class="table-controls">
                        <input id="searchInput" type="text" placeholder="Search request type">
                        <select id="typeFilter">
                            <option value="">All Types</option>
                        </select>
                        <select id="statusFilter">
                            <option value="">All Status</option>
                            <option>Pending</option>
                            <option>Approved</option>
                            <option>Rejected</option>
                            <option>Cancelled</option>
                        </select>
                        <input id="dateFilter" type="date">
                        <button id="clearFiltersBtn" class="clear-btn">Clear</button>
                    </div>

                    <table>
                        <tr>
                            <th>Request Type</th>
                            <th>Status</th>
                            <th>Submitted Date</th>
                            <th>Cancel</th>
                        </tr>
                        <tbody id="requestsTableBody"></tbody>
                    </table>
                </div>

                <aside class="activity-panel">
                    <h3><i class="fa-solid fa-clock-rotate-left"></i>Recent Activity</h3>
                    <ul id="activityList"></ul>
                </aside>
            </section>
        </main>
    </div>

    <div id="requestTypeModal" class="modal-overlay request-drawer-overlay">
        <div class="modal-box request-drawer">
            <h3><i class="fa-solid fa-file-signature"></i>Select Request Type</h3>
            <p>What type of request do you want to file?</p>
            <div id="requestTypeList" class="request-type-list"></div>
            <div class="modal-actions">
                <button id="closeRequestTypeBtn" class="modal-no">Cancel</button>
                <button id="confirmRequestTypeBtn" class="modal-yes" disabled>Confirm</button>
            </div>
        </div>
    </div>

    <div id="cancelConfirmModal" class="modal-overlay">
        <div class="modal-box">
            <h3><i class="fa-solid fa-triangle-exclamation"></i>Cancel Request</h3>
            <p>Are you sure you want to cancel this request?</p>
            <div class="modal-actions">
                <button id="cancelConfirmNoBtn" class="modal-no">No</button>
                <button id="cancelConfirmYesBtn" class="modal-yes">Yes, Cancel</button>
            </div>
        </div>
    </div>

    <div id="clearConfirmModal" class="modal-overlay">
        <div class="modal-box">
            <h3><i class="fa-solid fa-broom"></i>Clear Non-Pending</h3>
            <p id="clearConfirmText">Clear all non-pending requests?</p>
            <div class="modal-actions">
                <button id="clearConfirmNoBtn" class="modal-no">No</button>
                <button id="clearConfirmYesBtn" class="modal-yes">Yes, Clear</button>
            </div>
        </div>
    </div>

        <script src="api-client.js"></script>
        <script src="landingpage.js"></script>
</body>

</html>



